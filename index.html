<!DOCTYPE html>
<html>
<head>
	<title>Spotify</title>
	<meta charset="utf-8">
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<div class="sidebar">
		<div class="sidebar-wraper">

			<div class="sidebar__logo">
				<img src="img/logo.png" />
			</div><!--sidebar--logo-->

			<div class="sidebar__menu">
				<a class="sidebar__menu__selecionado" href="#"><i class="fas fa-home"></i> Início</a>
				<a href="#"><i class="fas fa-search"></i> Buscar</a>
				<a href="#"><i class="fas fa-database"></i> Biblioteca</a>
			</div><!--sidebar-menu-->

			<div class="sidebar__menu">
				<p class="sidebar__menu__title">Playlists</p>

				<div class="sidebar__menu__item">
					<div class="sidebar__menu__item__componente">
						<span>+</span>
					</div>
					<span>Criar Playlist</span>
				</div><!--sidebar-menu-item-->

				<div class="sidebar__menu__item">
					<img src="img/musicas_curtidas.png" />
					<span>Músicas Curtidas</span>
				</div><!--sidebar-menu-item-->
			</div><!--sidebar--menu-->

			<div class="sidebar__playlists">
				<a href="">Playlist 1</a>
				<a href="">Playlist 1</a>
				<a href="">Playlist 1</a>
				<a href="">Playlist 1</a>
				<a href="">Playlist 1</a>
			</div><!--sidebar-playlists-->

			<div class="sidebar__playlists">
				<a href="">Playlist 1</a>
				<a href="">Playlist 1</a>
				<a href="">Playlist 1</a>
				<a href="">Playlist 1</a>
				<a href="">Playlist 1</a>
			</div><!--sidebar-playlists-->

			<div class="sidebar__playlists">
				<a href="">Playlist 1</a>
				<a href="">Playlist 1</a>
				<a href="">Playlist 1</a>
				<a href="">Playlist 1</a>
				<a href="">Playlist 1</a>
			</div><!--sidebar-playlists-->


		</div><!--sidebar-wraper-->

	</div><!--sidebar-->

	<div class="main">
		<div class="main-wraper">

			<div class="main__row">
				<div class="main__row__title"><h2>Paradas</h2></div>

				<div class="main__col">
					<img src="img/top50.png" />
					<h3>As 50 mais tocadas</h3>
					<p>Aqui vai a descrição da minha música...</p>
				</div><!--main__col-->

				<div class="main__col">
					<img src="img/top50global.png" />
					<h3>As 50 mais tocadas</h3>
					<p>Aqui vai a descrição da minha música...</p>
				</div><!--main__col-->

				<div class="main__col">
					<img src="img/top50.png" />
					<h3>As 50 mais tocadas</h3>
					<p>Aqui vai a descrição da minha música...</p>
				</div><!--main__col-->

				<div class="main__col">
					<img src="img/top50.png" />
					<h3>As 50 mais tocadas</h3>
					<p>Aqui vai a descrição da minha música...</p>
				</div><!--main__col-->

				<div class="main__col">
					<img src="img/top50.png" />
					<h3>As 50 mais tocadas</h3>
					<p>Aqui vai a descrição da minha música...</p>
				</div><!--main__col-->

				<div class="main__col">
					<img src="img/top50.png" />
					<h3>As 50 mais tocadas</h3>
					<p>Aqui vai a descrição da minha música...</p>
				</div><!--main__col-->

				<div class="main__col">
					<img src="img/top50.png" />
					<h3>As 50 mais tocadas</h3>
					<p>Aqui vai a descrição da minha música...</p>
				</div><!--main__col-->

				<div class="main__col">
					<img src="img/top50.png" />
					<h3>As 50 mais tocadas</h3>
					<p>Aqui vai a descrição da minha música...</p>
				</div><!--main__col-->

				<div class="main__col">
					<img src="img/top50.png" />
					<h3>As 50 mais tocadas</h3>
					<p>Aqui vai a descrição da minha música...</p>
				</div><!--main__col-->


			</div><!--main_row-->

			<div class="main__row">
				<div class="main__row__title"><h2>Minhas músicas</h2></div>

				<div class="main__col" data-image="img/Castelo_Ruinas.png" data-artist="Bk" data-song="Amores, Vícios e Obsessões" data-file="assets/Amores, Vícios e Obsessões.mp3">
					<img src="img/Castelo_Ruinas.png" />
					<h3>Bk</h3>
					<p>Amores, Vícios e Obsessões (Prod. JXNVS)</p>
				</div><!--main__col-->

				<div class="main__col" data-image="img/Djavan_luz.jpg" data-artist="Djavan" data-song="Samurai" data-file="assets/Samurai.mp3">
					<img src="img/Djavan_luz.jpg" />
					<h3>Djavan</h3>
					<p>Samurai - Djavan</p>
				</div><!--main__col-->

				<div class="main__col" data-image="img/ClubedaEsquina.jpg" data-artist="Milton Nascimento" data-song="Maria Maria" data-file="assets/MARIA-MARIA.mp3" >
					<img src="img/ClubedaEsquina.jpg" />
					<h3>Milton Nascimento</h3>
					<p>Maria Maria</p>
				</div>

				<div class="main__col" data-image="img/racionais.jpg" data-artist="Racionais Mc's" data-song="Jesus Chorou" data-file="assets/JESUS CHOROU.mp3" >
					<img src="img/racionais.jpg" />
					<h3>Racionais Mc's</h3>
					<p>Jesus Chorou</p>
				</div>

				

			</div><!--main_row-->

		</div><!--main-wraper-->

	</div>


	<div class="player">
		<div class="player__artist">

		</div>
		<div class="player__control">
			<div class="player__control__buttons">
				<a href=""><i class="fas fa-backward"></i></a>
				<a style="display: none;" id="pauseBtn" href="#"><i class="far fa-pause-circle"></i></a>
				<a id="playBtn" href="#"><i class="far fa-play-circle"></i></a>
				<a href=""><i class="fas fa-forward"></i></a>
			</div>

			<div class="player__control__progress">
				<div style="width:0%;" class="player__control__progress_2"></div>
			</div>

		</div>
	</div>
	
	
	
	<!--PLAYER-->

	<audio id="audioplayer" style="position: absolute;left: 0;
	top: 0;z-index: -999;opacity: 0;" controls="">



	<script src="js/all.min.js"></script>

	<script>

			var audioPlayer = document.getElementById('audioplayer');
			var loaded = false;

			var playBtn = document.getElementById('playBtn');
			var pauseBtn = document.getElementById('pauseBtn');

			pauseBtn.addEventListener('click',(e)=>{
				e.preventDefault();

				playBtn.style.display = "inline";
				pauseBtn.style.display = "none";
				audioPlayer.pause();
				return false;
			});


			playBtn.addEventListener('click',(e)=>{
				e.preventDefault();

				playBtn.style.display = "none";
				pauseBtn.style.display = "inline";
				audioPlayer.play();
				return false;
			});

			const playSong = (file) => {


					if(loaded == false){
						audioPlayer.innerHTML = `<source src="`+file+`" type="audio/mp3" />`;
						loaded = true;
					}

					audioPlayer.load();



					playBtn.style.display = "none";
					pauseBtn.style.display = "inline";

			}

			document.querySelectorAll('.main__col').forEach(item =>{

				item.addEventListener('click',event=>{
					let image = item.getAttribute('data-image');
					let artist = item.getAttribute('data-artist');
					let song = item.getAttribute('data-song');
					let file = item.getAttribute('data-file');


					let playerArtistComponent = document.getElementsByClassName('player__artist');

					playerArtistComponent[0].innerHTML = `
						<img src="`+image+`" />
						<h3>`+artist+`<br/><span>`+song+`</span></h3>

					`;

					playSong(file);
				})

			});


			//Utilizar setinterval a cada segundo e atualizar a barra de progresso.

			

			audioPlayer.oncanplaythrough = function() {
    			
    			audioPlayer.play();
    			alert(audioPlayer.duration);
			};

		

			audioPlayer.addEventListener('timeupdate',(e)=>{
				var currentTime = audioPlayer.currentTime;
				console.log(currentTime);
 		
			});
		

			
	</script>
</body>
</html>